<!-- 
  TEMPLATE: Dashboard Component
  
  Propósito: Mostrar la interfaz del dashboard con:
  - Header con logo, empresa y usuario
  - Tarjetas de acceso a módulos
  - Estadísticas del sistema
-->

<div class="dashboard-container">
  <!-- 
    SECCIÓN: Header
    Propósito: Mostrar información de la empresa y usuario logueado
  -->
  <header class="dashboard-header">
    <div class="header-left">
      <div class="logo">
        <span class="material-icons">account_balance</span>
      </div>
      <div class="company-info">
        <h1>Sistema Contable</h1>
        @if (user()) {
          <p>{{ user()!.empresa.nombre }}</p>
        }
      </div>
    </div>
    
    <div class="header-right">
      @if (user()) {
        <div class="user-menu">
          <div class="user-avatar">
            {{ user()!.nombres.charAt(0) }}{{ user()!.apellidos.charAt(0) }}
          </div>
          <div class="user-info">
            <p class="user-name">{{ user()!.nombres }} {{ user()!.apellidos }}</p>
            <p class="user-role">{{ user()!.rol }}</p>
          </div>
          <button class="logout-btn" (click)="logout()">
            <span class="material-icons">logout</span>
            Salir
          </button>
        </div>
      }
    </div>
  </header>

  <!-- 
    SECCIÓN: Bienvenida
    Propósito: Mostrar mensaje de bienvenida personalizado
  -->
  <div class="welcome-section">
    <h2>¡Bienvenido, {{ user()?.nombres }}!</h2>
    <p>Aquí tienes un resumen de los módulos disponibles</p>
  </div>

  <!-- 
    SECCIÓN: Tarjetas de Módulos
    Propósito: Mostrar accesos rápidos a cada módulo del sistema
    
    Estructura de cada card:
    - title: Nombre del módulo
    - description: Descripción breve
    - icon: Icono de Material Icons
    - color: Color del módulo
    - route: Ruta a la que navega
  -->
  <div class="cards-grid">
    @for (card of cards(); track card.title) {
      <div class="card" [style.border-left-color]="card.color" (click)="navigateTo(card.route)">
        <div class="card-icon" [style.background-color]="card.color">
          <span class="material-icons">{{ card.icon }}</span>
        </div>
        <div class="card-content">
          <h3>{{ card.title }}</h3>
          <p>{{ card.description }}</p>
        </div>
        <div class="card-arrow">
          <span class="material-icons">arrow_forward</span>
        </div>
      </div>
    }
  </div>

  <!-- 
    SECCIÓN: Estadísticas (Quick Stats)
    Propósito: Mostrar información importante del sistema en tiempo real
    
    Estructura de cada stat:
    - label: Etiqueta descriptiva
    - value: Valor actual (se actualiza desde la BD)
    - icon: Icono de Material Icons
    - color: Color de la estadística
  -->
  <div class="stats-section">
    <h3>Información del Sistema</h3>
    <div class="stats-grid">
      @for (stat of stats(); track stat.label) {
        <div class="stat-card">
          <div class="stat-icon" [style.background-color]="stat.color">
            <span class="material-icons">{{ stat.icon }}</span>
          </div>
          <div class="stat-content">
            <p class="stat-label">{{ stat.label }}</p>
            <p class="stat-value">{{ stat.value }}</p>
          </div>
        </div>
      }
    </div>
  </div>
</div>